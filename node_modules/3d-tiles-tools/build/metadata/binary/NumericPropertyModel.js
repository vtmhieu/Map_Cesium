"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.NumericPropertyModel = void 0;
const NumericBuffers_1 = require("./NumericBuffers");
const MetadataTypes_1 = require("../MetadataTypes");
/**
 * Implementation of a `PropertyModel` for numeric types.
 *
 * This includes all types that have numeric component types,
 * i.e. the `SCALAR`, `VECn` and `MATn` types, and the
 * (binary, and therefore numeric) representation of `ENUM`.
 *
 * @internal
 */
class NumericPropertyModel {
    constructor(type, valuesBuffer, componentType) {
        this._type = type;
        this._valuesBuffer = valuesBuffer;
        this._componentType = componentType;
    }
    /** {@inheritDoc PropertyModel.getPropertyValue} */
    getPropertyValue(index) {
        const valuesBuffer = this._valuesBuffer;
        const componentType = this._componentType;
        const type = this._type;
        if (type === "SCALAR" || type === "ENUM") {
            return NumericBuffers_1.NumericBuffers.getNumericFromBuffer(valuesBuffer, index, componentType);
        }
        const componentCount = MetadataTypes_1.MetadataTypes.componentCountForType(type);
        return NumericBuffers_1.NumericBuffers.getNumericArrayFromBuffer(valuesBuffer, index, componentCount, componentType);
    }
}
exports.NumericPropertyModel = NumericPropertyModel;
